{"version":3,"sources":["clock.js","trains.js","weather.js","App.js","index.js"],"names":["Clock","state","time","Date","this","timerID","setInterval","tick","clearInterval","setState","getHours","String","getMinutes","padStart","Component","Train","times","loadData","urlPath","props","from","to","console","log","fetch","then","res","json","rows","ttimes","trainServices","map","ts","href","std","etd","catch","error","className","substring","Weather","temperature","weather","loadweatherData","Math","round","main","temp","Group","items","item","url","name","Groups","groupdata","iter","icon","title","App","dt","rel","getDate","getMonth","getFullYear","type","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.27e15584.chunk.js","sourcesContent":["import React, {Component} from 'react'\n\nclass Clock extends Component {\n  state = {\n    time: new Date()\n  };\n\n  componentDidMount() {\n    this.timerID = setInterval(() => this.tick(), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  tick() {\n    this.setState({\n      time: new Date()\n    });\n  }\n\n  render() {\n        //<h1>{this.state.time.toLocaleTimeString()}.</h1>\n    return (\n        <h1>{this.state.time.getHours()}:{String(this.state.time.getMinutes()).padStart(2,'0')}</h1>\n    );\n  }\n}\n\nexport default Clock","import React, { Component } from 'react'\n\nclass Train extends Component {\n\n  state = {\n    times: [],\n  };\n\n  componentDidMount() {\n    this.loadData()\n    setInterval(() => this.loadData(), 300000);\n  }\n\n  async loadData() {\n    const urlPath = \"https://huxley.apphb.com/departures/\" + this.props.from + \"/to/\" + this.props.to\n    const APPID = \"?accessToken=90ad6e7b-6732-479b-85fc-8a4a10aa4941\"\n    console.log(this.state)\n\n    fetch(urlPath + APPID)\n      .then(res => res.json())\n      .then((rows) => {\n        console.log(rows)\n        const ttimes = rows.trainServices.map((ts) => {\n          return (\n            <li><a href=\"https://www.nationalrail.co.uk\">{ts.std + \" - \" + ts.etd}</a></li>\n          )\n        })\n        this.setState({ times: ttimes })\n      })\n      .catch((error) => {\n        console.log('train error')\n        console.log(error)\n      })\n\n  }\n\n\n  render() {\n    console.log('train triggered')\n    return (\n      <div className=\"col-sm-4 text-left\">\n        <div className=\"card\">\n          <h3><i className=\"fa fa-bus\"/> Trains ({this.props.from.substring(0, 1)}->{this.props.to.substring(0, 1)})</h3>\n          <ul>\n            {this.state.times}\n          </ul>\n        </div>\n      </div >\n\n    );\n  }\n}\n\nexport default Train ","import React, {Component} from 'react'\n\nclass Weather extends Component {\n  \n  state = {\n    temperature:0,\n    weather:\"\",\n  };\n\n  //github pages - API calls only work if going to https (and don't work for http)\n  componentDidMount() {\n    this.loadweatherData()\n    setInterval(()=>this.loadweatherData(),300000);  \n  }\n\n  async loadweatherData(){\n   const urlPath = \"https://api.openweathermap.org/data/2.5/weather?q=warwick,uk\"\n   const APPID = \"&APPID=6cff2d77d480a2df6ef946144d45dfe0\"\n   fetch(urlPath+APPID)\n      .then(res => res.json())\n      .then((rows)=>\n      {\n        this.setState({temperature: Math.round(rows.main.temp -273.15)})\n        this.setState({weather:rows.weather[0].main})\n      })\n      .catch((error) =>{\n        console.log(\"error\")\n        console.log(error)\n      })\n      return false\n  }\n\n\n  render() {\n    return (\n    <>{this.state.temperature}&deg;C {this.state.weather}</>\n      );\n  }\n}\n\nexport default Weather ","import React, { Component } from 'react'\nimport Clock from './clock'\nimport Train from './trains'\nimport Weather from './weather'\n\nconst Group = (props) => {\n  const rows = props.items.map((item) => {\n    return (\n      <li><a href={item.url}>{item.name}</a></li>\n    )\n  })\n\n  return (\n    <ul>{rows}</ul>\n  )\n}\n\nconst Groups = (props) => {\n  const rows = props.groupdata.map((iter) => {\n    return (\n      <div className=\"col-sm-4 text-left\">\n        <div className=\"card\">\n          <h3><i className={iter.icon} /> {iter.title}</h3>\n          <Group items={iter.items} />\n        </div>\n      </div >\n    )\n  })\n\n  return (\n    <>{rows}</>\n  )\n}\n\n\nclass App extends Component {\n  //     {title:\"Train\",items:[\"17.07 - ok\", \"17.52 - ok\", \"18.12 - ok\"]}\n\n  state = {\n    groupdata: [\n      { title: \"News\", icon:\"fa fa-book\", items: [{ name: \"BBC\", url: \"http://www.bbc.co.uk/news\" }, { name: \"FT\", url: \"http://www.ft.com\" }, { name: \"Guardian\", url: \"http://www.guardian.co.uk\" }] },\n      { title: \"Pensions\", icon:\"fa fa-search\", items: [{ name: \"TPR\", url: \"https://www.thepensionsregulator.gov.uk/\" }, { name: \"TPR - exchange\", url: \"https://login.thepensionsregulator.gov.uk/\" }, { name: \"PPF\", url: \"https://www.ppf.co.uk/\" }, { name: \"Legislation\", url: \"http://www.legislation.gov.uk/\" }, { name: \"Institute\", url: \"https://www.actuaries.org.uk\" }] },\n    ]\n  }\n\n  render() {\n    let dt = new Date()\n    let from = (dt.getHours() > 12 ? \"bsw\" : \"wrp\")\n    let to = (dt.getHours() > 12 ? \"wrp\" : \"bsw\")\n    return (\n      <>\n        <head>\n          <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css\" />\n          <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Raleway:200,400\" />\n          <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"></link>\n        </head>\n        <body>\n          <div className=\"jumbotron text-center\">\n            <Clock />\n            <h2>{dt.getDate()}-{dt.getMonth() + 1}-{dt.getFullYear()}, <Weather /></h2>\n          </div>\n          <form className=\"inline\">\n            <label>\n              <h2><i className=\"fa fa-google\"></i></h2>\n            </label>\n            <input type=\"text\" />\n          </form>\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"left-buffer col-sm-2 text-center\" />\n              <div className=\"main-area col-sm-8 text-center\">\n                <Groups groupdata={this.state.groupdata} />\n                <Train from={from} to={to} />\n              </div>\n              <div className=\"right-buffer col-sm-22 text-center\" />\n\n            </div>\n          </div>\n        </body>\n      </>\n    )\n    /*return (\n    <div>\n      <head>\n      <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css\"/>\n        <title>Home</title>\n        <link rel=\"shortcut icon\" type=\"image/png\" href=\"assets/favicon.png\" />\n        <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Raleway:200,400\" />\n      </head>\n      <body>\n        <div id=\"logo\">\n          <Clock/>\n        <h2>{dt.getDate()}-{dt.getMonth()+1}-{dt.getFullYear()}, <Weather /></h2>\n        </div>\n        <div id=\"content\" className=\"container\">\n        <Groups groupdata={this.state.groupdata}/>\n        <Train from={from} to={to}/>\n        </div>\n    </body>\n   </div> */\n    //)\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}