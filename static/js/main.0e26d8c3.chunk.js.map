{"version":3,"sources":["clock.js","weather.js","groups.js","groups_train.js","App.js","index.js"],"names":["Clock","state","time","Date","this","timerID","setInterval","tick","clearInterval","setState","getHours","String","getMinutes","padStart","Component","Weather","temperature","weather","loadweatherData","fetch","urlPath","then","res","json","rows","Math","round","main","temp","catch","error","console","log","GroupList","props","items","map","item","href","url","name","Group","className","onClick","toggle","dt","icon","title","Grouptrain","times","loadData","from","to","trainServices","ttimes","ts","std","etd","substring","App","groupdata","searchText","showDetail","test","e","target","value","handleSubmit","toggleState","preventDefault","formatting","buffer","rel","getDate","getMonth","getFullYear","action","onSubmit","type","onChange","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0e26d8c3.chunk.js","sourcesContent":["import React, {Component} from 'react'\n\nclass Clock extends Component {\n  state = {\n    time: new Date()\n  };\n\n  componentDidMount() {\n    this.timerID = setInterval(() => this.tick(), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  tick() {\n    this.setState({\n      time: new Date()\n    });\n  }\n\n  render() {\n        //<h1>{this.state.time.toLocaleTimeString()}.</h1>\n    return (\n        <h1>{this.state.time.getHours()}:{String(this.state.time.getMinutes()).padStart(2,'0')}</h1>\n    );\n  }\n}\n\nexport default Clock","import React, {Component} from 'react'\n\nclass Weather extends Component {\n  \n  state = {\n    temperature:0,\n    weather:\"\",\n  };\n\n  //github pages - API calls only work if going to https (and don't work for http)\n  componentDidMount() {\n    this.loadweatherData()\n    setInterval(()=>this.loadweatherData(),300000);  \n  }\n\n  async loadweatherData(){\n   const urlPath = \"https://api.openweathermap.org/data/2.5/weather?q=warwick,uk\"\n   const APPID = \"&APPID=6cff2d77d480a2df6ef946144d45dfe0\"\n   fetch(urlPath+APPID)\n      .then(res => res.json())\n      .then((rows)=>\n      {\n        this.setState({temperature: Math.round(rows.main.temp -273.15)})\n        this.setState({weather:rows.weather[0].main})\n      })\n      .catch((error) =>{\n        console.log(\"error\")\n        console.log(error)\n      })\n      return false\n  }\n\n\n  render() {\n    return (\n    <>{this.state.temperature}&deg;C {this.state.weather}</>\n      );\n  }\n}\n\nexport default Weather ","import React, { Component } from 'react'\n\nconst GroupList = (props) => {\n    const rows = props.items.map((item) => {\n        return (\n            <li><a href={item.url}>{item.name}</a></li>\n        )\n    })\n\n    return (\n        <ul>{rows}</ul>\n    )\n}\n\n\nclass Group extends Component {\n    //Props: icon, title, items (name and url), show , onClick callback\n\n    render() {\n        if (this.props.state) {\n            return (\n                <div className=\"col-sm-4 text-left\">\n                    <div className=\"card\">\n                        <h3>\n                            <a className=\"quiet-link\" href=\"toggle display\" onClick={this.props.toggle} >\n                                <i className={this.props.dt.icon} /> {this.props.dt.title}\n                            </a>\n                        </h3>\n                        <GroupList items={this.props.dt.items} />\n                    </div>\n                </div>\n            )\n        } else {\n            return (\n                <a className=\"quiet-link\" href=\"toggle display\" onClick={this.props.toggle} >\n                    <i className={this.props.dt.icon} /> &nbsp;\n                </a>\n            )\n\n        }\n\n    }\n}\n\nexport default Group;","import React, { Component } from 'react'\n\nconst GroupList = (props) => {\n    const rows = props.items.map((item) => {\n        return (\n            <li><a href={item.url}>{item.name}</a></li>\n        )\n    })\n\n    return (\n        <ul>{rows}</ul>\n    )\n}\n\nclass Grouptrain extends Component {\n    //Props: icon, title, items (name and url), show , onClick callback\n\n    //Extra code for Train\n    state = {\n        times: [],\n    };\n\n    componentDidMount() {\n        this.loadData()\n        setInterval(() => this.loadData(), 300000);\n    }\n\n    async loadData() {\n        const urlPath = \"https://huxley.apphb.com/departures/\" + this.props.from + \"/to/\" + this.props.to\n        const APPID = \"?accessToken=90ad6e7b-6732-479b-85fc-8a4a10aa4941\"\n\n        fetch(urlPath + APPID)\n            .then(res => res.json())\n            .then((rows) => {\n                if (rows.trainServices === null) {\n                    this.setState({ times:[{url:\"https://www.nationalrail.co.uk\", name:\"No available trains\"}]}) \n                } else {\n\n                    const ttimes = rows.trainServices.map((ts) => {\n                        return (\n                            <li><a href=\"https://www.nationalrail.co.uk\">{ts.std + \" - \" + ts.etd}</a></li>\n                        )\n                    })\n                    this.setState({ times: ttimes })\n                }\n            }\n            )\n            .catch((error) => {\n                console.log('train error')\n                console.log(error)\n            })\n\n    }\n\n\n    render() {\n        if (this.props.state) {\n            return (\n                <div className=\"col-sm-4 text-left\">\n                    <div className=\"card\">\n                        <h3>\n                            <a className=\"quiet-link\" href=\"toggle display\" onClick={this.props.toggle} >\n                                <i className={this.props.dt.icon} /> {this.props.dt.title}({this.props.from.substring(0, 1)}->{this.props.to.substring(0, 1)})\n                            </a>\n                        </h3>\n                        <ul><GroupList items={this.state.times} /></ul>\n                    </div>\n                </div>\n            )\n        } else {\n            return (\n                <a className=\"quiet-link\" href=\"toggle display\" onClick={this.props.toggle} >\n                    <i className={this.props.dt.icon} /> &nbsp;\n                </a>\n            )\n\n        }\n\n    }\n}\n\nexport default Grouptrain;","import React, { Component } from 'react'\nimport Clock from './clock'\nimport Weather from './weather'\nimport Group from './groups'\nimport Grouptrain from './groups_train'\n\n\nclass App extends Component {\n\n  state = {\n    groupdata: [\n      { title: \"News\", icon: \"fa fa-book\", items: [{ name: \"BBC\", url: \"http://www.bbc.co.uk/news\" }, { name: \"FT\", url: \"http://www.ft.com\" }, { name: \"Guardian\", url: \"http://www.guardian.co.uk\" }] },\n      { title: \"Pensions\", icon: \"fa fa-search\", items: [{ name: \"TPR\", url: \"https://www.thepensionsregulator.gov.uk/\" }, { name: \"TPR - exchange\", url: \"https://login.thepensionsregulator.gov.uk/\" }, { name: \"PPF\", url: \"https://www.ppf.co.uk/\" }, { name: \"Legislation\", url: \"http://www.legislation.gov.uk/\" }, { name: \"Institute\", url: \"https://www.actuaries.org.uk\" }] },\n      { title: \"Trains \", icon: \"fa fa-bus\", items: [] },\n    ],\n    searchText: \"\",\n    showDetail: false \n  }\n\n  test = (e) => {\n    this.setState({ searchText: e.target.value })\n  }\n\n  handleSubmit = (e) => {\n    //e.preventDefault()\n    //this.setState({searchText:\"\"})    \n  }\n\n  toggleState = (e) => {\n    e.preventDefault()\n    this.setState({ showDetail: !this.state.showDetail })\n  }\n\n\n  render() {\n    let dt = new Date()\n    let from = (dt.getHours() > 12 ? \"bsw\" : \"wrp\")\n    let to = (dt.getHours() > 12 ? \"wrp\" : \"bsw\")\n    let formatting = (this.state.showDetail ? \"main-area col-sm-8 text-center\" : \"main-area col-sm-12 text-center h3\")\n    let buffer =(this.state.showDetail ? <div className=\"left-buffer col-sm-2 text-center\" /> : <div />)\n\n    return (\n      <>\n        <head>\n          <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css\" />\n          <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Raleway:200,400\" />\n          <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"></link>\n        </head>\n        <body>\n          <div className=\"jumbotron text-center\">\n            <Clock />\n            <h2>{dt.getDate()}-{dt.getMonth() + 1}-{dt.getFullYear()}, <Weather /></h2>\n          </div>\n          <form className=\"inline\" action=\"http://google.com/search\" onSubmit={this.handleSubmit}>\n            <label>\n              <h2><i className=\"fa fa-google\"></i>&nbsp;</h2>\n            </label>\n            <input type=\"text\" name=\"q\" value={this.state.searchText} onChange={this.test} />\n          </form>\n          <div className=\"container\">\n            <div className=\"row\">\n              {buffer}\n              <div className={formatting} >\n                <Group dt={this.state.groupdata[0]} toggle={this.toggleState} state={this.state.showDetail} />\n                <Group dt={this.state.groupdata[1]} toggle={this.toggleState} state={this.state.showDetail} />\n                <Grouptrain dt={this.state.groupdata[2]} from={from} to={to} toggle={this.toggleState} state={this.state.showDetail} />\n              </div>\n              {buffer}\n            </div>\n          </div>\n        </body>\n      </>\n    )\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}